# CPU and memory metrics for Cisco devices.

metrics:
  - MIB: OLD-CISCO-CPU-MIB
    symbol:
      OID: 1.3.6.1.4.1.9.2.1.56
        # CPU busy percentage in the last 5 second period
      name: busyPer
  - MIB: OLD-CISCO-CPU-MIB
    symbol:
      OID: 1.3.6.1.4.1.9.2.1.57
        # 1 minute exponentially-decayed moving average of the CPU busy percentage
      name: avgBusy1
  - MIB: OLD-CISCO-CPU-MIB
    symbol:
      OID: 1.3.6.1.4.1.9.2.1.58
        # 1 minute exponentially-decayed moving average of the CPU busy percentage
      name: avgBusy5

  - MIB: CISCO-PROCESS-MIB
    table:
      OID: 1.3.6.1.4.1.9.9.109.1.1.1
      name: cpmCPUTotalTable
    symbols:
      - OID: 1.3.6.1.4.1.9.9.109.1.1.1.1.7
        # core check only
        name: cpu.usage
    metric_tags:
      - index: 1
        tag: cpu

  - MIB: CISCO-MEMORY-POOL-MIB
    table:
      OID: 1.3.6.1.4.1.9.9.48.1.1
      name: ciscoMemoryPoolTable
    symbols:
      - OID: 1.3.6.1.4.1.9.9.48.1.1.1.5
        # core check only
        name: memory.used
      - OID: 1.3.6.1.4.1.9.9.48.1.1.1.6
        # core check only
        name: memory.free
    metric_tags:
      - tag: mem
        index: 1

 ## - MIB: CISCO-MEMORY-POOL-MIB
 ##   table:
 ##     OID: 	1.3.6.1.4.1.9.9.48.1.2
 ##     name: ciscoMemoryPoolUtilizationTable
 ##   symbols:
 ##     - OID: 1.3.6.1.4.1.9.9.48.1.2.1.1
 ##       # This is the memory pool utilization for 1 minute.
 ##       name: ciscoMemoryPoolUtilization1Min
 ##     - OID: 1.3.6.1.4.1.9.9.48.1.2.1.2
 ##       # This is the memory pool utilization for 5 minutes.
 ##       name: ciscoMemoryPoolUtilization5Min
 ##   metric_tags:
 ##     - tag: mem
 ##       index: 1